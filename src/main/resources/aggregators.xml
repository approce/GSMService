<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
       ">

    <bean id="aggregator_1" class="com.model.Modem">
        <constructor-arg name="id" value="aggregator_1"/>
        <constructor-arg name="IMEI" value="051251251255"/>
        <constructor-arg name="comPort" value="COM4"/>
        <constructor-arg name="baudRate" value="56700"/>
        <constructor-arg name="initCommand" value="AT+CFUN=1\r"/>
        <constructor-arg name="manufacturer" value="HUAWEI"/>
        <constructor-arg name="model" value="E1550"/>
    </bean>

    <bean id="aggregator_executor_1" class="com.aggregators.VerticalAggregatorExecutorImpl">
        <constructor-arg name="ID" value="first"/>
        <constructor-arg name="START_ON_SETUP" value="true"/>
        <constructor-arg name="MODEM" ref="aggregator_1"/>
        <constructor-arg name="simCell" value="A0"/>
        <constructor-arg name="AVAILABLE_COUNT" value="100"/>
    </bean>

    <util:map id="aggregatorsMap" value-type="com.aggregators.AggregatorExecutor">
        <entry key="aggregator_1" value-ref="aggregator_executor_1"/>
    </util:map>

</beans>